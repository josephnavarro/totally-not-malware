from distutils.core import setup
import py2exe, os, glob

#Compiles 'malware' to .exe; requires py2exe
#Usage: python setup.py py2exe

ROOTDIR = 'path/to/script' #Obviously change this
APP_NAME = 'RUNME'         #Name of .exe
VERSION_NUMBER = '1.0'     #Arbitrary
DESCRIPTION = ''           #All of this is arbitrary
URL = ''

def get_files(dfiles, directory):
    d1 = ROOTDIR + directory
    for files in os.listdir(d1):
        f1 = d1 + files
        if os.path.isfile(f1):
            f2 = directory, [f1]
            dfiles.append(f2)
        else:
            get_files(dfiles, directory + files + '/')

setup(
    version = VERSION_NUMBER,
    description = DESCRIPTION,
    name = APP_NAME,
    url = URL,
    author = '',
    author_email = '',
    license = '',

    #Targets to build
    windows = [{
        'script': 'malware.py',
        'copyright': ''
    }],
    options = {
        'py2exe': {
            'optimize'    : 2,
            'bundle_files': 2,
            'compressed'  : True,
            'packages'    : [],
            'dll_excludes': [''],
            'includes'    : ['image'],
            'excludes'    : ['setup', 'img_encode'],
            'dist_dir'    : 'outputs',
            }
        },
    zipfile = None,
    data_files = [],
    )
